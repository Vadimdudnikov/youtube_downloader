# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ YouTube Download API

## üîë –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–∞ –¥–ª—è –ø—Ä–æ–∫—Å–∏

### –ü—Ä–æ–±–ª–µ–º–∞: "–ù–µ–≤–µ—Ä–Ω—ã–π —Å–∏–º–≤–æ–ª –≤ api_key!"

–î–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–∫—Å–∏ –Ω—É–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å API –∫–ª—é—á —Å —Å–∞–π—Ç–∞ htmlweb.ru:

1. **–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ —Å–∞–π—Ç–µ:** https://htmlweb.ru/
2. **–ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á** –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ
3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ .env —Ñ–∞–π–ª:**

```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
cp env_example.txt .env

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª
nano .env
```

4. **–î–æ–±–∞–≤—å—Ç–µ –≤–∞—à API –∫–ª—é—á:**
```env
PROXY_API_KEY=–≤–∞—à_—Ä–µ–∞–ª—å–Ω—ã–π_api_–∫–ª—é—á_–∑–¥–µ—Å—å
```

### –ü—Ä–∏–º–µ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ API –∫–ª—é—á–∞:
```env
PROXY_API_KEY=abc123def456ghi789jkl012mno345pqr678stu901vwx234yz
```

## üç™ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Cookies (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–î–ª—è –æ–±—Ö–æ–¥–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π YouTube:

1. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ cookies:**
```bash
cp cookies.txt.example cookies.txt
```

2. **–ü–æ–ª—É—á–∏—Ç–µ cookies –∏–∑ –±—Ä–∞—É–∑–µ—Ä–∞:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ YouTube –≤ –±—Ä–∞—É–∑–µ—Ä–µ
   - –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ cookies (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Get cookies.txt")
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ Netscape –≤ —Ñ–∞–π–ª `cookies.txt`

3. **–ü—Ä–∏–º–µ—Ä —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ cookies.txt:**
```
# Netscape HTTP Cookie File
.youtube.com	TRUE	/	FALSE	1234567890	VISITOR_INFO1_LIVE	your_visitor_info
.youtube.com	TRUE	/	FALSE	1234567890	PREF	your_preferences
```

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ API –∫–ª—é—á–∞:

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
./start.sh
```

## üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### YouTube –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã (HTTP 403)
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ cookies —Ñ–∞–π–ª
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–±–æ—á–∏–µ –ø—Ä–æ–∫—Å–∏
- ‚úÖ –û–±–Ω–æ–≤–∏—Ç–µ yt-dlp: `pip install --upgrade yt-dlp`

### –ü—Ä–æ–∫—Å–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–ª—é—á
- ‚úÖ –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ API –∫–ª—é—á –∞–∫—Ç–∏–≤–µ–Ω
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å –Ω–∞ htmlweb.ru

### –û—à–∏–±–∫–∏ Celery
- ‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Redis: `redis-server`
- ‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Celery worker
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `celery -A app.celery_app worker --loglevel=debug`

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã:

```bash
# –°—Ç–∞—Ç—É—Å –ø—Ä–æ–∫—Å–∏
curl http://localhost:8000/api/v1/proxies/status

# –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–∫—Å–∏
curl -X POST http://localhost:8000/api/v1/proxies/update

# –°–ø–∏—Å–æ–∫ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
curl http://localhost:8000/api/v1/list
```
